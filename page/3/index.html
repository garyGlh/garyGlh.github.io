<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"colahua.tech","root":"/","images":"/images","scheme":"Muse","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>
<meta name="description" content="持续学习Fighting!">
<meta property="og:type" content="website">
<meta property="og:title" content="JKQ&#39;s Blog">
<meta property="og:url" content="http://colahua.tech/page/3/index.html">
<meta property="og:site_name" content="JKQ&#39;s Blog">
<meta property="og:description" content="持续学习Fighting!">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="JennyKQ">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://colahua.tech/page/3/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<title>JKQ's Blog</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">JKQ's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Jenny&quot;s tech Record</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JennyKQ</p>
  <div class="site-description" itemprop="description">持续学习Fighting!</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/04/05/Qt%E7%AA%97%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/04/05/Qt%E7%AA%97%E5%8F%A3/" class="post-title-link" itemprop="url">Qt窗口</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-04-05 16:27:30" itemprop="dateCreated datePublished" datetime="2020-04-05T16:27:30+08:00">2020-04-05</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Qt-窗口"><a href="#Qt-窗口" class="headerlink" title="Qt 窗口"></a>Qt 窗口</h1><h2 id="主窗口与子窗口"><a href="#主窗口与子窗口" class="headerlink" title="主窗口与子窗口"></a>主窗口与子窗口</h2><p>子窗口是父窗口的成员对象，在父窗口中show</p>
<h3 id="主窗口与子窗口间的切换"><a href="#主窗口与子窗口间的切换" class="headerlink" title="主窗口与子窗口间的切换"></a>主窗口与子窗口间的切换</h3><h4 id="主窗口-gt-子窗口"><a href="#主窗口-gt-子窗口" class="headerlink" title="主窗口-&gt;子窗口"></a>主窗口-&gt;子窗口</h4><p>子窗口显示，本窗口隐藏</p>
<h4 id="子窗口-gt-主窗口"><a href="#子窗口-gt-主窗口" class="headerlink" title="子窗口-&gt;主窗口"></a>子窗口-&gt;主窗口</h4><ol>
<li>子窗口中根据<strong>真实信号</strong>定义槽函数，给主窗口发“邮件”</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SubWidget::<span class="built_in">SubWidget</span>(QWidget *parent) : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;    </span><br><span class="line">    <span class="built_in">setWindowTitle</span>(<span class="string">&quot;小弟&quot;</span>);   </span><br><span class="line">    b4.<span class="built_in">setParent</span>(<span class="keyword">this</span>);   </span><br><span class="line">    b4.<span class="built_in">setText</span>(<span class="string">&quot;切换到主窗口&quot;</span>);                                       <span class="built_in">connect</span>(&amp;b4,&amp;QPushButton::clicked,<span class="keyword">this</span> ,&amp;SubWidget::sendSlot);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SubWidget::sendSlot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="function">emit <span class="title">mySignal</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>在主窗口connect子窗口发来的“邮件”</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//处理子窗口的信号    connect(&amp;w,&amp;SubWidget::mySignal,this,&amp;MyWidget::dealSub);</span></span><br></pre></td></tr></table></figure>
<h2 id="模态对话框和非模态对话框"><a href="#模态对话框和非模态对话框" class="headerlink" title="模态对话框和非模态对话框"></a>模态对话框和非模态对话框</h2><h3 id="模态对话框"><a href="#模态对话框" class="headerlink" title="模态对话框"></a>模态对话框</h3><p>只能操作当前窗口，无法操作其他窗口<br><code>dlg.exec();</code></p>
<h3 id="非模态对话框"><a href="#非模态对话框" class="headerlink" title="非模态对话框"></a>非模态对话框</h3><ol>
<li>将dlg定义为成员【好】</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类里定义QDialog dlg;</span></span><br><span class="line">dlg.<span class="built_in">show</span>();               </span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;<span class="built_in">QStringLiteral</span>(<span class="string">&quot;非模态对话框&quot;</span>);   </span><br></pre></td></tr></table></figure>
<ol>
<li>动态分配空间（指定父对象）【不好】   </li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QDialog *p=<span class="keyword">new</span> <span class="built_in">QDialog</span>(<span class="keyword">this</span>);<span class="comment">//多次点击会内存越界</span></span><br><span class="line">p-&gt;<span class="built_in">show</span>();     </span><br></pre></td></tr></table></figure>
<ol>
<li>动态分配空间（不指定父对象）【好】</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QDialog *p=<span class="keyword">new</span> QDialog;              </span><br><span class="line">p-&gt;<span class="built_in">setAttribute</span>(Qt::WA_DeleteOnClose);<span class="comment">//关闭才释放  </span></span><br><span class="line">p-&gt;<span class="built_in">show</span>();</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/29/Qt%E6%8E%A7%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/29/Qt%E6%8E%A7%E4%BB%B6/" class="post-title-link" itemprop="url">Qt控件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-29 16:27:48" itemprop="dateCreated datePublished" datetime="2020-03-29T16:27:48+08:00">2020-03-29</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="控件"><a href="#控件" class="headerlink" title="控件"></a>控件</h1><h2 id="按钮QPushBotton"><a href="#按钮QPushBotton" class="headerlink" title="按钮QPushBotton"></a>按钮QPushBotton</h2><ul>
<li>文字：<code>b.setText(&quot;&lt;u&gt;文字&lt;/u&gt;&quot;);</code></li>
<li>移动：<code>b.move(100, 100);</code>//单位是<strong>像素</strong></li>
<li>设置大小：<code>b.resize(100, 100);</code></li>
</ul>
<p>定义按钮对象（子对象）时可在父类中定义成员（private），不可在构造函数中直接定义<br>（定义指针时要new：<code>b= new QPushButton(this)</code>）</p>
<ul>
<li>最后一个括号的参数是<strong>父对象</strong>，可以为空（默认this）</li>
<li>动态分配的变量直接或间接继承于QObject，则空间自动释放</li>
</ul>
<h2 id="标签QLabel"><a href="#标签QLabel" class="headerlink" title="标签QLabel"></a>标签QLabel</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/28/Qt%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/28/Qt%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">Qt基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-28 16:27:17" itemprop="dateCreated datePublished" datetime="2020-03-28T16:27:17+08:00">2020-03-28</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Qt/" itemprop="url" rel="index"><span itemprop="name">Qt</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Qt基础"><a href="#Qt基础" class="headerlink" title="Qt基础"></a>Qt基础</h1><h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><h3 id="qDebug-gt-cout"><a href="#qDebug-gt-cout" class="headerlink" title="qDebug()-&gt;cout"></a>qDebug()-&gt;cout</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> cout qDebug()&lt;&lt;<span class="meta-string">&quot;[&quot;</span>&lt;&lt;__FILE__&lt;&lt;<span class="meta-string">&quot;: &quot;</span>&lt;&lt;__LINE__&lt;&lt;<span class="meta-string">&quot;]&quot;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="基类"><a href="#基类" class="headerlink" title="基类"></a>基类</h2><ul>
<li>QMainWindow：有菜单栏</li>
<li>QWidget：最简单</li>
<li>QDialog：不可缩放</li>
</ul>
<h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><h3 id="QString-gt-QbyteArray"><a href="#QString-gt-QbyteArray" class="headerlink" title="QString-&gt;QbyteArray"></a>QString-&gt;QbyteArray</h3><ol>
<li><code>toUtf8()</code><br>转换为utf8编码<br>例：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QString buf=<span class="string">&quot;123&quot;</span>;</span><br><span class="line">QByteArray a=buf.<span class="built_in">toUtf8</span>();<span class="comment">//中文</span></span><br></pre></td></tr></table></figure>
<ol>
<li><code>toLocal8Bit()</code><br>转换为本地平台编码<br>例：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QString buf=<span class="string">&quot;123&quot;</span>;</span><br><span class="line">QByteArray a=buf.<span class="built_in">toLocal8Bit</span>();<span class="comment">//本地编码</span></span><br></pre></td></tr></table></figure>
<h3 id="QByteArray-gt-char"><a href="#QByteArray-gt-char" class="headerlink" title="QByteArray-&gt;char*"></a>QByteArray-&gt;char*</h3><ol>
<li><code>data()</code><br>例：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QByteArray a=<span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> *b=a.<span class="built_in">data</span>();</span><br></pre></td></tr></table></figure>
<h3 id="char-gt-QString"><a href="#char-gt-QString" class="headerlink" title="char*-&gt;QString"></a>char*-&gt;QString</h3><p>例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>*p=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">QString c=<span class="built_in">QString</span>(p);</span><br></pre></td></tr></table></figure>
<h2 id="输出（打印）"><a href="#输出（打印）" class="headerlink" title="输出（打印）"></a>输出（打印）</h2><p><QDebug>：qDebug()，用法同cout，默认换行</p>
<h3 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h3><p>%<u>数字</u>，<code>.arg()</code>输入替代%<u>数字</u>的值<br>例：<br><code>QString str=QString(&quot;abc %1 haha %2&quot;).arg(123).arg(&quot;mike&quot;);</code></p>
<h3 id="打印中文"><a href="#打印中文" class="headerlink" title="打印中文"></a>打印中文</h3><h4 id="toUtf8"><a href="#toUtf8" class="headerlink" title="toUtf8"></a>toUtf8</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QString a=<span class="string">&quot;哈哈&quot;</span>;</span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;a.<span class="built_in">toUtf8</span>().<span class="built_in">data</span>();</span><br><span class="line"><span class="comment">//a.toUtf8()-&gt;字节数组QByteArray</span></span><br><span class="line"><span class="comment">//.......data()-&gt;QByteArray-&gt;char*</span></span><br></pre></td></tr></table></figure>
<h4 id="QString函数-宏"><a href="#QString函数-宏" class="headerlink" title="QString函数/宏"></a>QString函数/宏</h4><p>在QString 类中</p>
<ol>
<li>有个静态字符转码函数  <code>QString::fromLocal8Bit</code>  —&gt; 转码成Unicode 这样就能解决中文乱码问题了</li>
<li>QStringLiteral<br>在Qt5中，提供了一个专门的处理宏，来支持中文<strong>常量</strong>。<br><code>QMessageBox::information(this, QString::fromLocal8Bit(&quot;提示&quot;), QStringLiteral(&quot;中文显示&quot;));</code></li>
</ol>
<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>int，而非enum</p>
<h2 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h2><p>新建文件-&gt;Qt-&gt;Qt source file-&gt;右键复制链接到剪贴板</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/24/Python%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/24/Python%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" class="post-title-link" itemprop="url">Python输入输出</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-24 16:14:40" itemprop="dateCreated datePublished" datetime="2020-03-24T16:14:40+08:00">2020-03-24</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python-输入输出"><a href="#Python-输入输出" class="headerlink" title="Python 输入输出"></a>Python 输入输出</h1><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><ul>
<li>input()：转为<strong>字符串</strong><br><code>x=input(&quot;提示语&quot;)</code></li>
</ul>
<h3 id="特殊任务"><a href="#特殊任务" class="headerlink" title="特殊任务"></a>特殊任务</h3><ul>
<li>输入获得两个字符串（abc def）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x, y=<span class="built_in">input</span>().split()</span><br></pre></td></tr></table></figure>
<ul>
<li>输入获得两个整数（3,456）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x, y=<span class="built_in">eval</span>(<span class="built_in">input</span>())</span><br></pre></td></tr></table></figure>
<ul>
<li>输入获得元素均为数值型的列表（12, 3.4, 567）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lst=<span class="built_in">list</span>(<span class="built_in">eval</span>(<span class="built_in">input</span>()))</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lst=<span class="built_in">input</span>().split(<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>输入：[12, 3.4, 567]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lst=<span class="built_in">eval</span>(<span class="built_in">input</span>())</span><br></pre></td></tr></table></figure>
<h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p><code>print(对象1, 对象2,…, sep=&quot; &quot;, end=&quot;\n&quot;)</code></p>
<h3 id="或，隔开"><a href="#或，隔开" class="headerlink" title="+或，隔开"></a>+或，隔开</h3><ul>
<li>+隔开<br><code>print(&quot;你好&quot;+name+&quot;hello&quot;)</code></li>
<li>\,隔开<br><code>print(&quot;你好&quot;,name,&quot;hello&quot;)</code><ul>
<li>用逗号会自动<strong>加空格</strong></li>
</ul>
</li>
</ul>
<h3 id="format"><a href="#format" class="headerlink" title="{}, .format()"></a>{}, .format()</h3><ul>
<li>{}里写格式化形式<br><code>print(&quot;你好,&#123;0&lt;5d&#125;,我是&#123;&#125;.fotmat(name1, name2)</code></li>
</ul>
<h3 id="f-name"><a href="#f-name" class="headerlink" title="f, {name}"></a>f, {name}</h3><p><code>print(f&quot;你好,&#123;name1&#125;,我是&#123;name2&#125;&quot;)</code></p>
<h3 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出%"></a>格式化输出%</h3><p><code>print(&quot;There is %d people.&quot;%(count))</code></p>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><p><code>file_obj=open(filename, mode=&quot;r&quot;, buffering=-1,…)</code></p>
<ul>
<li><p>mode为读写方式<br><img src="C:\Users\11546\Desktop\笔记\Python\Python\en-resource:\database\758:1" alt="56f0127539eb8fe6197fae8f9515550b.png"></p>
</li>
<li><p>buffering为缓冲区模式（0代表不缓冲，-1是默认缓冲区，大于0的数表示缓冲区大小）</p>
<ul>
<li>文本文件必须缓冲，二进制文件可以不缓冲</li>
</ul>
<h3 id="写文件-f-write"><a href="#写文件-f-write" class="headerlink" title="写文件 f.write()"></a>写文件 f.write()</h3><p>例（不推荐）：</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f=<span class="built_in">open</span>(<span class="string">&quot;firstpro.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p>推荐写法：（with语句）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;firstpro.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>with语句会主动关闭文件，不需写<code>f.close()</code></li>
</ul>
<h3 id="读文件-f-read"><a href="#读文件-f-read" class="headerlink" title="读文件 f.read()"></a>读文件 f.read()</h3><ul>
<li>file_obj.read()：读文件直到文件结束，返回字符串</li>
<li>file_obj.read(size)：读文件size字节数据，返回字符串<br>例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;firstpro.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    p1=f.read(<span class="number">5</span>)</span><br><span class="line">    p2=f.read()</span><br></pre></td></tr></table></figure>
<h3 id="其他读写函数"><a href="#其他读写函数" class="headerlink" title="其他读写函数"></a>其他读写函数</h3><ul>
<li>file_obj.readlines()：返回<strong>列表</strong>（带\n）</li>
<li>file_obj.readline()</li>
<li>file_obj.writelines()</li>
</ul>
<h3 id="其他文件相关函数"><a href="#其他文件相关函数" class="headerlink" title="其他文件相关函数"></a>其他文件相关函数</h3><ul>
<li>file_obj.seek(offset, whence=0)：在文件中<strong>移动文件指针</strong>，从whence（0表示文件头部，1表示当前位置，2表示文件尾部）偏移offset个字节</li>
</ul>
<h3 id="标准文件"><a href="#标准文件" class="headerlink" title="标准文件"></a>标准文件</h3><ul>
<li>stdin：标准输入</li>
<li>stdout：标准输出</li>
<li>stderr：标准错误</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/21/Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/21/Git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">Git远程仓库操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-21 10:32:24" itemprop="dateCreated datePublished" datetime="2020-03-21T10:32:24+08:00">2020-03-21</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Git远程仓库操作"><a href="#Git远程仓库操作" class="headerlink" title="Git远程仓库操作"></a>Git远程仓库操作</h1><ul>
<li>远程仓库可看成一个普通<strong>分支</strong>，只是形式为<code>&lt;远程仓库名&gt;/master</code></li>
<li>远程分支可通过<code>git remote</code>查看，无法通过<code>git branch</code>查看</li>
<li>远程仓库是<strong>惰性</strong>的，需要手动更新，无法自动同步更新</li>
</ul>
<h2 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h2><h3 id="法一：git-remote-add命令"><a href="#法一：git-remote-add命令" class="headerlink" title="法一：git remote add命令"></a>法一：<code>git remote add</code>命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add &lt;远程仓库名&gt; &lt;远程仓库链接&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>可将远程仓库与本地<strong>已有</strong>仓库关联起来</li>
</ul>
<h3 id="法二：git-clone命令"><a href="#法二：git-clone命令" class="headerlink" title="法二：git clone命令"></a>法二：<code>git clone</code>命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> &lt;远程仓库链接&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>相当于先<code>git init</code>，再<code>git remote add</code>，再<code>git fetch</code>，最后<code>git checkout</code>。克隆一个远程仓库到本地，会自动将远程仓库命名为origin。使用频率更高。</li>
</ul>
<h2 id="把本地内容推送到远程仓库（上传）"><a href="#把本地内容推送到远程仓库（上传）" class="headerlink" title="把本地内容推送到远程仓库（上传）"></a>把本地内容推送到远程仓库（上传）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;远程仓库名&gt; &lt;本地分支名&gt;</span><br></pre></td></tr></table></figure>
<h2 id="拉取远程仓库（下载）"><a href="#拉取远程仓库（下载）" class="headerlink" title="拉取远程仓库（下载）"></a>拉取远程仓库（下载）</h2><h4 id="法一：git-fetch命令"><a href="#法一：git-fetch命令" class="headerlink" title="法一：git fetch命令"></a>法一：<code>git fetch</code>命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch &lt;远程仓库名&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>仅仅拉取仓库，不会同步master和文件</li>
</ul>
<h5 id="master迁移到远程仓库的master"><a href="#master迁移到远程仓库的master" class="headerlink" title="master迁移到远程仓库的master"></a>master迁移到远程仓库的master</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -B master origin/master</span><br></pre></td></tr></table></figure>
<h4 id="法二：git-pull命令"><a href="#法二：git-pull命令" class="headerlink" title="法二：git pull命令"></a>法二：<code>git pull</code>命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull &lt;远程仓库名&gt; &lt;本地分支名&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>git pull</code>的功能是在<code>git fetch</code>的基础上自动应用远程修改，不过要谨慎使用，当心远程的修改和本地有冲突</li>
</ul>
<h2 id="远程仓库之间的交流"><a href="#远程仓库之间的交流" class="headerlink" title="远程仓库之间的交流"></a>远程仓库之间的交流</h2><h3 id="把别人的仓库复制到自己的账户下"><a href="#把别人的仓库复制到自己的账户下" class="headerlink" title="把别人的仓库复制到自己的账户下"></a>把别人的仓库复制到自己的账户下</h3><ul>
<li>用<code>fork</code></li>
</ul>
<h3 id="把自己账户下的修改提交给上游维护者，由他审核后并入他的远程仓库内"><a href="#把自己账户下的修改提交给上游维护者，由他审核后并入他的远程仓库内" class="headerlink" title="把自己账户下的修改提交给上游维护者，由他审核后并入他的远程仓库内"></a>把自己账户下的修改提交给上游维护者，由他审核后并入他的远程仓库内</h3><ul>
<li>用<code>pull request</code></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/14/Git%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/14/Git%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">Git分支操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-14 10:32:17" itemprop="dateCreated datePublished" datetime="2020-03-14T10:32:17+08:00">2020-03-14</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Git分支操作"><a href="#Git分支操作" class="headerlink" title="Git分支操作"></a>Git分支操作</h1><h2 id="分支的本质"><a href="#分支的本质" class="headerlink" title="分支的本质"></a>分支的本质</h2><p>分支的本质是指向<code>commit</code>的引用（指针）</p>
<ul>
<li>可通过<code>git branch</code>命令查看分支</li>
</ul>
<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><h3 id="只创建分支，不切换过去"><a href="#只创建分支，不切换过去" class="headerlink" title="只创建分支，不切换过去"></a>只创建分支，不切换过去</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &lt;分支名&gt; &lt;所基于commit&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>不带<code>&lt;所基于commit&gt;</code>参数时默认从距当前最近的commit创建分支</li>
</ul>
<h3 id="创建分支的同时切换到新分支"><a href="#创建分支的同时切换到新分支" class="headerlink" title="创建分支的同时切换到新分支"></a>创建分支的同时切换到新分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;分支名&gt;</span><br></pre></td></tr></table></figure>
<h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><ul>
<li>切换分支前必须先<code>git status</code>保证工作区是干净的（先add,，commit）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;分支名&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>可用<code>git log &lt;分支名&gt;</code>查看该分支的log</li>
</ul>
<h2 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h2><ul>
<li>先切换到主干分支，再吸收被合并吸收的分支</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;主干分支&gt;</span><br><span class="line"></span><br><span class="line">$ git merge &lt;被合并吸收的分支&gt;</span><br></pre></td></tr></table></figure>
<h3 id="合并时有冲突的情况"><a href="#合并时有冲突的情况" class="headerlink" title="合并时有冲突的情况"></a>合并时有冲突的情况</h3><p>例：初始a.txt中内容为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hh</span><br></pre></td></tr></table></figure>
<p>切换到<code>bugfix</code>分支并将a.txt内容改为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hha</span><br></pre></td></tr></table></figure>
<p>切换到<code>master</code>分支并将a.txt中内容改为：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hhh</span></span><br></pre></td></tr></table></figure>
<h4 id="合并有冲突的分支步骤如下："><a href="#合并有冲突的分支步骤如下：" class="headerlink" title="合并有冲突的分支步骤如下："></a>合并有冲突的分支步骤如下：</h4><ol>
<li><p>用命令<code>git merge &lt;分支名&gt;</code>，令<code>master</code>分支吸收<code>bugfix</code>分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge bugfix</span><br><span class="line">Auto-merging a.txt</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> a.txt</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br></pre></td></tr></table></figure>
<p>此时a.txt中变成：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string">hhh</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string">hha</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; bugfix</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>需手动编辑共同修改的文件，处理被</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt; ...（主干分支）</span><br><span class="line"></span><br><span class="line">=====</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;&gt;&gt; ...（被吸收分支）</span><br></pre></td></tr></table></figure>
<p>包裹的内容</p>
</li>
<li><p>最后再将手动修改后的文件<code>add</code>和<code>commit</code></p>
</li>
</ol>
<ul>
<li>可用<code>git log --graph</code>命令直观地查看分支合并过程</li>
</ul>
<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d &lt;分支&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>删除分支不会删除其commit（删除指针不会删除指针所指对象）</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2020/03/07/Git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/03/07/Git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">Git基本操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-07 10:32:09" itemprop="dateCreated datePublished" datetime="2020-03-07T10:32:09+08:00">2020-03-07</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>工作区：电脑里看到的目录，如myrepo文件夹</li>
<li>暂存区：add后commit前的存储区域</li>
<li>master：commit以后的存储区域</li>
<li>版本库：暂存区与master的并集</li>
</ul>
<h2 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h2><h3 id="创建git仓库"><a href="#创建git仓库" class="headerlink" title="创建git仓库"></a>创建git仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir myrepo//创建文件夹</span><br><span class="line">$ <span class="built_in">cd</span> myrepo//进入文件夹</span><br><span class="line">$ <span class="built_in">pwd</span>//显示当前目录</span><br><span class="line">/c/Users/11546/Desktop/myrepo</span><br><span class="line"></span><br><span class="line">$ git init//创建Git仓库</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> C:/Users/11546/Desktop/myrepo/.git/</span><br></pre></td></tr></table></figure>
<ul>
<li>.git目录默认隐藏，可用<code>ls-ah</code>命令看见</li>
</ul>
<h3 id="把文件添加到版本库"><a href="#把文件添加到版本库" class="headerlink" title="把文件添加到版本库"></a>把文件添加到版本库</h3><p>编写一个泊船瓜洲.txt文件，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">《泊船瓜洲》</span><br><span class="line">京口瓜洲一水间，钟山只隔数重山。</span><br><span class="line">春风又到江南岸，明月何时照我还。</span><br></pre></td></tr></table></figure>
<p>把文件添加到Git仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git add 泊船瓜洲.txt//把文件添加到暂存区</span><br><span class="line"></span><br><span class="line">$ git commit -m 新建文件，包含<span class="string">&quot;春风又到江南岸&quot;</span></span><br><span class="line">[master (root-commit) 1fa6029] 新建文件，包含“春风又到江南岸”</span><br><span class="line"> 1 file changed, 3 insertions(+)</span><br><span class="line"> create mode 100644 <span class="string">&quot;\346\263\212\350\210\271\347\223\234\346\264\262.txt&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以add多次再统一commit</li>
</ul>
<h2 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改文件</h2><p>把泊船瓜洲.txt文件更改如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">《泊船瓜洲》</span><br><span class="line">京口瓜洲一水间，钟山只隔数重山。</span><br><span class="line">春风又满江南岸，明月何时照我还。</span><br></pre></td></tr></table></figure>
<p>运行<code>git status</code>查看状态：</p>
<p><img src="C:\Users\11546\AppData\Roaming\Typora\typora-user-images\image-20200309161334543.png" alt="image-20200309161334543"></p>
<ul>
<li><code>git status</code>可知有无需要commit的文件</li>
</ul>
<p>运行<code>git diff</code>查看修改内容：</p>
<p><img src="C:\Users\11546\AppData\Roaming\Typora\typora-user-images\image-20200309161549405.png" alt="image-20200309161549405"></p>
<p>再将修改add与commit</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git add 泊船瓜洲.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m 把“到”改为“满”</span><br><span class="line">[master e7e5a3f] 把“到”改为“满”</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"> </span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>
<h2 id="时间穿梭"><a href="#时间穿梭" class="headerlink" title="时间穿梭"></a>时间穿梭</h2><h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><p>再将泊船瓜洲.txt改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">《泊船瓜洲》</span><br><span class="line">京口瓜洲一水间，钟山只隔数重山。</span><br><span class="line">春风又绿江南岸，明月何时照我还。</span><br></pre></td></tr></table></figure>
<p>将上述修改add并commit</p>
<p>使用<code>git log</code>命令查看记录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit 05fc749e076386a404963258b9a61bdb724fa48c (HEAD -&gt; master)</span><br><span class="line">Author: jkq &lt;1154609706@qq.com&gt;</span><br><span class="line">Date:   Mon Mar 9 17:21:23 2020 +0800</span><br><span class="line"></span><br><span class="line">    把“满”改为“绿”</span><br><span class="line"></span><br><span class="line">commit e7e5a3fd383391a777d7b964f3ce74a50e01ec2b</span><br><span class="line">Author: jkq &lt;1154609706@qq.com&gt;</span><br><span class="line">Date:   Mon Mar 9 17:00:39 2020 +0800</span><br><span class="line"></span><br><span class="line">    把“到”改为“满”</span><br><span class="line"></span><br><span class="line">commit 1fa6029ec6f9557e83fe0f63dbeece9b04def210</span><br><span class="line">Author: jkq &lt;1154609706@qq.com&gt;</span><br><span class="line">Date:   Mon Mar 9 16:00:35 2020 +0800</span><br><span class="line"></span><br><span class="line">    新建文件，包含“春风又到江南岸”</span><br></pre></td></tr></table></figure>
<ul>
<li>若想一次修改显示在一行，则使用<code>$ git log --pretty=oneline</code>命令</li>
</ul>
<h4 id="回到上一个版本"><a href="#回到上一个版本" class="headerlink" title="回到上一个版本"></a>回到上一个版本</h4><h5 id="整个仓库"><a href="#整个仓库" class="headerlink" title="整个仓库"></a>整个仓库</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD~1</span><br><span class="line">HEAD is now at e7e5a3f 把“到”改为“满”</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span></span><br><span class="line">commit e7e5a3fd383391a777d7b964f3ce74a50e01ec2b (HEAD -&gt; master)</span><br><span class="line">Author: jkq &lt;1154609706@qq.com&gt;</span><br><span class="line">Date:   Mon Mar 9 17:00:39 2020 +0800</span><br><span class="line"></span><br><span class="line">    把“到”改为“满”</span><br><span class="line"></span><br><span class="line">commit 1fa6029ec6f9557e83fe0f63dbeece9b04def210</span><br><span class="line">Author: jkq &lt;1154609706@qq.com&gt;</span><br><span class="line">Date:   Mon Mar 9 16:00:35 2020 +0800</span><br><span class="line"></span><br><span class="line">    新建文件，包含“春风又到江南岸”</span><br></pre></td></tr></table></figure>
<ul>
<li>HEAD~1表示上一个版本</li>
</ul>
<h5 id="单个文件"><a href="#单个文件" class="headerlink" title="单个文件"></a>单个文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout HEAD~1 -- 泊船瓜洲.txt</span><br></pre></td></tr></table></figure>
<h4 id="后悔回到上一个版本，想去未来版本（想去任何版本都通用）"><a href="#后悔回到上一个版本，想去未来版本（想去任何版本都通用）" class="headerlink" title="后悔回到上一个版本，想去未来版本（想去任何版本都通用）"></a>后悔回到上一个版本，想去未来版本（想去任何版本都通用）</h4><p>找到想去到版本的commit id</p>
<ol>
<li><p>若未关闭git bash，则直接往上找commit id</p>
</li>
<li><p>若已关闭git bash，则使用<code>git reflog</code>命令查看commit id</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">e7e5a3f (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to HEAD~1</span><br><span class="line">05fc749 HEAD@&#123;1&#125;: commit: 把“满”改为“绿”</span><br><span class="line">e7e5a3f (HEAD -&gt; master) HEAD@&#123;2&#125;: commit: 把“到”改为“满”</span><br><span class="line">1fa6029 HEAD@&#123;3&#125;: commit (initial): 新建文件，包含“春风又到江南岸”</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3><p>将泊船瓜洲.txt改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">《泊船瓜洲》</span><br><span class="line">京口瓜洲一水间，钟山只隔数重山。</span><br><span class="line">春风又满江南岸，明月何时照我还。</span><br><span class="line">不开心</span><br></pre></td></tr></table></figure>
<ol>
<li><p>文件修改后还未放到暂存区，撤销修改回到跟版本库一样的状态（上一次commit）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- 泊船瓜洲.txt</span><br><span class="line"></span><br><span class="line">$ cat 泊船瓜洲.txt</span><br><span class="line">《泊船瓜洲》</span><br><span class="line">京口瓜洲一水间，钟山只隔数重山。</span><br><span class="line">春风又满江南岸，明月何时照我还。</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件add到暂存区后又做了修改，撤销修改回到add到暂存区后状态</p>
<p>​    （1）先使得暂存区变干净，工作区有修改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD 泊船瓜洲.txt</span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       泊船瓜洲.txt</span><br></pre></td></tr></table></figure>
<p><img src="C:\Users\11546\AppData\Roaming\Typora\typora-user-images\image-20200309182733019.png" alt="image-20200309182733019">    </p>
<ul>
<li>HEAD表示当前版本</li>
</ul>
<p>​    （2）再将工作区的修改用<code>git checkout -- 泊船瓜洲.txt</code>命令清除</p>
</li>
</ol>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p>从文件管理器中删除泊船瓜洲.txt</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm 泊船瓜洲.txt</span><br></pre></td></tr></table></figure>
<p><img src="C:\Users\11546\AppData\Roaming\Typora\typora-user-images\image-20200309183612834.png" alt="image-20200309183612834">    </p>
<ol>
<li><p>误删</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- 泊船瓜洲.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>实质是用版本库里的版本替换工作区里的版本</li>
</ul>
</li>
<li><p>确实要从版本库中删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rm 泊船瓜洲.txt</span><br><span class="line">rm <span class="string">&#x27;泊船瓜洲.txt&#x27;</span></span><br><span class="line"></span><br><span class="line">$ git commit -m 删除泊船瓜洲.txt</span><br><span class="line">[master 99387e8] 删除泊船瓜洲.txt</span><br><span class="line"> 1 file changed, 3 deletions(-)</span><br><span class="line"> delete mode 100644 <span class="string">&quot;\346\263\212\350\210\271\347\223\234\346\264\262.txt&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2019/12/15/Python%E5%BC%82%E5%B8%B8%E4%B8%8E%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/12/15/Python%E5%BC%82%E5%B8%B8%E4%B8%8E%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">Python异常与测试</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-15 16:15:18" itemprop="dateCreated datePublished" datetime="2019-12-15T16:15:18+08:00">2019-12-15</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python-异常与测试"><a href="#Python-异常与测试" class="headerlink" title="Python 异常与测试"></a>Python 异常与测试</h1><ul>
<li>可用循环重复输入</li>
</ul>
<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><h3 id="raise"><a href="#raise" class="headerlink" title="raise"></a>raise</h3><p>抛出异常<br>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">raise</span> StopIteration</span><br></pre></td></tr></table></figure>
<h3 id="try-except语句"><a href="#try-except语句" class="headerlink" title="try-except语句"></a>try-except语句</h3><p>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    num1=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;first number:&quot;</span>))</span><br><span class="line">    num2=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;second number:&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(num1/num2)</span><br><span class="line"><span class="keyword">except</span> ValueError <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(err)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(err)</span><br><span class="line"><span class="comment">#except Exception as err:空except检查所有错误</span></span><br><span class="line">    <span class="comment">#print(err)</span></span><br></pre></td></tr></table></figure>
<h3 id="else语句"><a href="#else语句" class="headerlink" title="else语句"></a>else语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    num1=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;first number:&quot;</span>))</span><br><span class="line">    num2=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;second number:&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(num1/num2)</span><br><span class="line"><span class="keyword">except</span> (ValueError, ZeroDivisionError):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;invalid input&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;everything is ok&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="finally语句"><a href="#finally语句" class="headerlink" title="finally语句"></a>finally语句</h3><p>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    num1=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;first number:&quot;</span>))</span><br><span class="line">    num2=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;second number:&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(num1/num2)</span><br><span class="line"><span class="keyword">except</span> IOError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;fail open&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    f.close()</span><br><span class="line">    <span class="comment">#如果文件打开失败还是会报错，因为f没有值</span></span><br></pre></td></tr></table></figure>
<h3 id="上下文管理器和with语句（多用于文件、数据库）"><a href="#上下文管理器和with语句（多用于文件、数据库）" class="headerlink" title="上下文管理器和with语句（多用于文件、数据库）"></a>上下文管理器和with语句（多用于文件、数据库）</h3><p>定义和控制代码块执行前的准备动作及执行后的收尾工作<br>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="comment">#将文件对象赋给f</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(line, end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="断言assert"><a href="#断言assert" class="headerlink" title="断言assert"></a>断言assert</h3><ul>
<li>多用于测试函数<br>例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> isRunNian(<span class="number">2004</span>==<span class="literal">True</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2019/11/30/Python%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%EF%BC%88%E7%88%AC%E5%8F%96%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/11/30/Python%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%EF%BC%88%E7%88%AC%E5%8F%96%EF%BC%89/" class="post-title-link" itemprop="url">Python网络数据获取（爬取）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-11-30 16:15:11" itemprop="dateCreated datePublished" datetime="2019-11-30T16:15:11+08:00">2019-11-30</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python-网络数据获取（爬取）"><a href="#Python-网络数据获取（爬取）" class="headerlink" title="Python 网络数据获取（爬取）"></a>Python 网络数据获取（爬取）</h1><ul>
<li><p>抓取</p>
<ul>
<li><p>urlib内建模块（被取代）</p>
<ul>
<li>urlib.request</li>
</ul>
</li>
<li><p>Requests第三方库（中小型）</p>
</li>
<li>Scapy框架（大型）</li>
</ul>
</li>
<li><p>解析</p>
<ul>
<li>BeautifulSoup库</li>
<li>re模块（正则表达式）</li>
</ul>
</li>
<li><p>或用第三方API抓取+解析</p>
</li>
</ul>
<h2 id="抓取"><a href="#抓取" class="headerlink" title="抓取"></a>抓取</h2><h3 id="Requests库"><a href="#Requests库" class="headerlink" title="Requests库"></a>Requests库</h3><p>基本方法：</p>
<ul>
<li><code>r=requests.get(url)</code>：请求获取指定URL位置的资源，对应HTTP协议的GET方法</li>
<li><code>r.status_code</code>：查看状态码（200为正常）</li>
<li><code>r.encoding=...</code>：修改编码</li>
<li><code>r.text</code>：查看内容</li>
</ul>
<h4 id="解码"><a href="#解码" class="headerlink" title="解码"></a>解码</h4><ul>
<li>二进制：<code>r.content</code></li>
<li>文本：<code>r.text</code></li>
<li>json：<code>r.json()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解码成中文</span></span><br><span class="line">r.text.encode(<span class="string">&quot;utf-8&quot;</span>).decode(<span class="string">&quot;unicode-escape&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="抓取网站的情况"><a href="#抓取网站的情况" class="headerlink" title="抓取网站的情况"></a>抓取网站的情况</h4><p>列举几种情况：</p>
<ul>
<li>假设获取的是二进制文件，则可以借鉴如下方法保存数据：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"> </span><br><span class="line">r = requests.get(<span class="string">&#x27;https://www.baidu.com/img/bd_logo1.png&#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;baidu.png&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">   fp.write(r.content)</span><br></pre></td></tr></table></figure>
<ul>
<li>有些网站会对http请求的Headers的User-Agent进行检测，需将<strong>headers</strong>信息传递给get函数的headers参数，例如豆瓣最近也有了此要求，例如知乎，直接访问会返回400，加上headers参数后可正确返回：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>re = requests.get(<span class="string">&#x27;https://www.zhihu.com&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.status_code</span><br><span class="line"><span class="number">400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># headers可从http测试网站https://httpbin.org或浏览器的“开发者工具”获得</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>headers=&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re = requests.get(<span class="string">&#x27;https://www.zhihu.com&#x27;</span>, headers = headers)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.status_code</span><br><span class="line"><span class="number">200</span></span><br></pre></td></tr></table></figure>
<ul>
<li>被JS渲染过的页面内容获取<br>可以通过浏览器的“开发者工具”功能寻找真正提供数据的页面，有时会有一定的难度。</li>
</ul>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><h3 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h3><p>BeautifulSoup是一个可以从HTML或XML文件中提取数据的库</p>
<ul>
<li>HTML解析器最常用LXML</li>
</ul>
<p>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">markup=<span class="string">&quot;&lt;p class=&quot;</span>title<span class="string">&quot;&gt;&lt;b&gt;The Little Prince&lt;/b&gt;&lt;/p&gt;&quot;</span></span><br><span class="line">soup=BeautifulSoup(markup, <span class="string">&quot;lxml&quot;</span>)</span><br><span class="line"></span><br><span class="line">soup.b</span><br><span class="line">&gt;&gt;&gt;&lt;b&gt;The Little Prince</span><br><span class="line"></span><br><span class="line">soup.find(<span class="string">&quot;b&quot;</span>)</span><br><span class="line"><span class="comment"># 找到第一个&lt;b&gt;的内容</span></span><br><span class="line"></span><br><span class="line">soup.find_all(<span class="string">&quot;b&quot;</span>)</span><br><span class="line"><span class="comment"># 找到所有&lt;b&gt;的内容，返回列表</span></span><br></pre></td></tr></table></figure>
<h4 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h4><ul>
<li>Tag：标签</li>
<li>NavigableString：Tag中的字符串</li>
<li>BeautifulSoup</li>
<li>Comment：NavigableString的子类</li>
</ul>
<h4 id="Tag属性"><a href="#Tag属性" class="headerlink" title="Tag属性"></a>Tag属性</h4><ul>
<li>name</li>
<li>attrs：类似字典</li>
</ul>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><ul>
<li>贪婪模式：？，碰到第一个就结束</li>
<li>非贪婪模式：没有？，直到找到最后一个</li>
</ul>
<h4 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h4><ul>
<li>(.*)：捕获前后字符串夹着的字符串</li>
<li>\s+：换行</li>
</ul>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><ul>
<li>获取的是清洗过的数据，而非源代码</li>
</ul>
<h3 id="API获取数据"><a href="#API获取数据" class="headerlink" title="API获取数据"></a>API获取数据</h3><ul>
<li>pandas_datareader.data. DataReader( , )</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas_datareader.data <span class="keyword">as</span> web</span><br><span class="line"></span><br><span class="line">f = web.DataReader(<span class="string">&quot;AXP&quot;</span>, <span class="string">&quot;stooq&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>tushare</li>
</ul>
<h3 id="Restful-API"><a href="#Restful-API" class="headerlink" title="Restful API"></a>Restful API</h3><p>基于网页的API，返回类型是JSON（JavaScript Notation）<br>例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tianqi</span>(<span class="params">city</span>):</span></span><br><span class="line">    <span class="string">&quot;获取天气预报&quot;</span></span><br><span class="line">    url=<span class="string">&quot;http://t.weather.sojson.com/api/weather/city/101210101&quot;</span></span><br><span class="line">    <span class="keyword">import</span> requests</span><br><span class="line">    res=requests.get(url)</span><br><span class="line">    tq_text = res.text</span><br><span class="line">    <span class="keyword">import</span> json</span><br><span class="line">    <span class="comment">#把text转换为json对象</span></span><br><span class="line">    tq_json = json.loads(tq_text)</span><br><span class="line">    wendu=tq_json[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;wendu&quot;</span>]</span><br><span class="line">    pm25=tq_json[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;pm25&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;city&#125;</span>：温度是<span class="subst">&#123;wendu&#125;</span>，PM2.5是<span class="subst">&#123;pm25&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="数据获取有用的库-模块"><a href="#数据获取有用的库-模块" class="headerlink" title="数据获取有用的库/模块"></a>数据获取有用的库/模块</h2><h3 id="sklearn模块的datasets子模块"><a href="#sklearn模块的datasets子模块" class="headerlink" title="sklearn模块的datasets子模块"></a>sklearn模块的datasets子模块</h3><p>例：获取iris数据集</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"></span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"><span class="comment">#数据存储在data属性中</span></span><br><span class="line"><span class="built_in">print</span>(iris.data)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(iris.feature_names)</span><br><span class="line"><span class="built_in">print</span>(iris.data.shape)</span><br><span class="line"><span class="comment">#数据所属种类在target属性中</span></span><br><span class="line"><span class="built_in">print</span>(iris.target)</span><br></pre></td></tr></table></figure>
<h3 id="NLTK语料库"><a href="#NLTK语料库" class="headerlink" title="NLTK语料库"></a>NLTK语料库</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"></span><br><span class="line"><span class="comment">#打开下载器</span></span><br><span class="line">nltk.download()</span><br><span class="line"></span><br><span class="line"><span class="comment">#在下载器中打开Corpora选项卡，都是可下载的语料库</span></span><br></pre></td></tr></table></figure>
<p>例：加载古腾堡语料库</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> gutenberg</span><br><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看语料库中收录了哪些古藤堡项目的图书</span></span><br><span class="line"><span class="built_in">print</span>(gutenberg.fileids())</span><br><span class="line"></span><br><span class="line"><span class="comment">#把《哈姆雷特》中的单词列出来</span></span><br><span class="line">texts=gutenberg.words(<span class="string">&quot;shakespeare-hamlet.txt&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(texts)</span><br></pre></td></tr></table></figure>
<h2 id="本地文件"><a href="#本地文件" class="headerlink" title="本地文件"></a>本地文件</h2><h3 id="csv文件"><a href="#csv文件" class="headerlink" title="csv文件"></a>csv文件</h3><h4 id="csv-gt-DataFrame"><a href="#csv-gt-DataFrame" class="headerlink" title="csv-&gt;DataFrame"></a>csv-&gt;DataFrame</h4><ul>
<li>.read_csv(path, sep=”,”)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">&quot;../test.csv&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="DataFrame-gt-csv"><a href="#DataFrame-gt-csv" class="headerlink" title="DataFrame-&gt;csv"></a>DataFrame-&gt;csv</h4><ul>
<li>.to_csv(path)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&quot;../test.csv&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="excel文件"><a href="#excel文件" class="headerlink" title="excel文件"></a>excel文件</h3><h4 id="excel-gt-DataFrame"><a href="#excel-gt-DataFrame" class="headerlink" title="excel-&gt;DataFrame"></a>excel-&gt;DataFrame</h4><ul>
<li>.read_excel(path, sheet_name)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_excel(<span class="string">&quot;../test.xls&quot;</span>, sheet_name=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h4 id="DataFrame-gt-excel"><a href="#DataFrame-gt-excel" class="headerlink" title="DataFrame-&gt;excel"></a>DataFrame-&gt;excel</h4><ul>
<li>.to_excel(path)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_excel(<span class="string">&quot;../test.xls&quot;</span>)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://colahua.tech/2019/11/23/Python%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%E4%B8%8E%E9%A2%84%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JennyKQ">
      <meta itemprop="description" content="持续学习Fighting!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JKQ's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/11/23/Python%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%E4%B8%8E%E9%A2%84%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">Python数据探索与预处理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-11-23 16:15:01" itemprop="dateCreated datePublished" datetime="2019-11-23T16:15:01+08:00">2019-11-23</time>
    </span>

  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python-数据探索与预处理"><a href="#Python-数据探索与预处理" class="headerlink" title="Python 数据探索与预处理"></a>Python 数据探索与预处理</h1><h2 id="数据探索"><a href="#数据探索" class="headerlink" title="数据探索"></a>数据探索</h2><p>任务：</p>
<ul>
<li>检查数据错误</li>
<li>了解数据分布特征和内在规律</li>
</ul>
<h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><p>任务：</p>
<ul>
<li>数据清洗（包含了检查数据错误）</li>
<li>数据集成</li>
<li>数据变换</li>
<li>数据规约</li>
</ul>
<h3 id="数据清洗"><a href="#数据清洗" class="headerlink" title="数据清洗"></a>数据清洗</h3><ul>
<li>数据缺失值的检测与处理</li>
<li>数据异常值的检测与处理</li>
</ul>
<h4 id="缺失值处理"><a href="#缺失值处理" class="headerlink" title="缺失值处理"></a>缺失值处理</h4><ul>
<li>删除：缺失得多或缺失关键属性</li>
<li>填充<ul>
<li>固定值</li>
<li>均值、中位数/众数</li>
<li>上下数据</li>
<li>插值函数（拉格朗日）</li>
<li>最可能的值（最近邻、回归分析）</li>
</ul>
</li>
</ul>
<h5 id="DataFrame缺失值处理"><a href="#DataFrame缺失值处理" class="headerlink" title="DataFrame缺失值处理"></a>DataFrame缺失值处理</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">quotesdf_nan=pd.read_csv(<span class="string">&quot;AXP_NaN.csv&quot;</span>, index_col=<span class="string">&quot;Date&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除缺失值</span></span><br><span class="line">quotesdf_nan.dropna(how=<span class="string">&quot;any&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#填充缺失值</span></span><br><span class="line"><span class="comment">#用均值填充</span></span><br><span class="line">quotesdf_nan.fillna(quotesdf_nan.mean(), inplace = <span class="literal">True</span>)<span class="comment">#inplace是修不修改原来的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#用上一个非缺失值填充</span></span><br><span class="line">quotesdf_nan.fillna(method=<span class="string">&quot;ffill&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#用下一个非缺失值填充</span></span><br><span class="line">quotesdf_nan.fillna(method=<span class="string">&quot;bfill&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="异常值处理"><a href="#异常值处理" class="headerlink" title="异常值处理"></a>异常值处理</h4><h5 id="异常值的检测"><a href="#异常值的检测" class="headerlink" title="异常值的检测"></a>异常值的检测</h5><ul>
<li>简单统计</li>
<li>绘图</li>
<li>基于密度，最近邻和聚类等方法</li>
</ul>
<h5 id="describe-方法"><a href="#describe-方法" class="headerlink" title="describe()方法"></a>describe()方法</h5><h5 id="boxplot-方法"><a href="#boxplot-方法" class="headerlink" title="boxplot()方法"></a>boxplot()方法</h5><p>Serirs或DataFrame的boxplot()方法</p>
<h5 id="3-sigma-原则"><a href="#3-sigma-原则" class="headerlink" title="3$\sigma$原则"></a>3$\sigma$原则</h5><ul>
<li>正态分布</li>
<li>用<strong>布尔索引</strong>筛选数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quotesdf_san[<span class="built_in">abs</span>(quotesdf_nan-quotesdf_nan.mean())&gt;<span class="number">3</span>*quotesdf_nan.std()]</span><br></pre></td></tr></table></figure>
<h3 id="数据变换"><a href="#数据变换" class="headerlink" title="数据变换"></a>数据变换</h3><p>常见方式：</p>
<ul>
<li>规范化</li>
<li>连续属性离散化</li>
<li>特征二值化</li>
</ul>
<h4 id="数据规范化"><a href="#数据规范化" class="headerlink" title="数据规范化"></a>数据规范化</h4><p>解决：</p>
<ul>
<li>量纲不同</li>
<li>数值范围差异大<br>规范化常用方法：</li>
<li>最小-最大规范化</li>
<li>z-score规范化（标准化））</li>
<li>小数定标规范化</li>
</ul>
<h5 id="最小-最大规范化"><a href="#最小-最大规范化" class="headerlink" title="最小-最大规范化"></a>最小-最大规范化</h5><script type="math/tex; mode=display">
x'=\frac{x-\min}{\max -\min}</script><p>将属性值调整到[0, 1]范围内</p>
<ul>
<li>适合不涉及距离度量的场景</li>
</ul>
<h6 id="自己写代码"><a href="#自己写代码" class="headerlink" title="自己写代码"></a>自己写代码</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line">df = pd.DataFrame(boston.data[:, <span class="number">4</span>:<span class="number">7</span>])</span><br><span class="line">df.columns = boston.feature_names[<span class="number">4</span>:<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#最小-最大规范化</span></span><br><span class="line">(df-df.<span class="built_in">min</span>())/(df.<span class="built_in">max</span>()-df.<span class="built_in">min</span>())</span><br></pre></td></tr></table></figure>
<h6 id="sklearn的preprocessing模块"><a href="#sklearn的preprocessing模块" class="headerlink" title="sklearn的preprocessing模块"></a>sklearn的preprocessing模块</h6><ul>
<li>minmax_scale(df)函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line">df = pd.DataFrame(boston.data[:, <span class="number">4</span>:<span class="number">7</span>])</span><br><span class="line">df.columns = boston.feature_names[<span class="number">4</span>:<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#最小-最大规范化</span></span><br><span class="line"><span class="built_in">print</span>(preprocessing.minmax_scale(df))</span><br></pre></td></tr></table></figure>
<h5 id="z-score规范化"><a href="#z-score规范化" class="headerlink" title="z-score规范化"></a>z-score规范化</h5><script type="math/tex; mode=display">
x'=\frac{x-\overline{x}}{\sigma}</script><ul>
<li>处理后数据均值为0，标准差为1</li>
</ul>
<h6 id="自己写代码-1"><a href="#自己写代码-1" class="headerlink" title="自己写代码"></a>自己写代码</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line">df = pd.DataFrame(boston.data[:, <span class="number">4</span>:<span class="number">7</span>])</span><br><span class="line">df.columns = boston.feature_names[<span class="number">4</span>:<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#z-score规范化</span></span><br><span class="line"><span class="built_in">print</span>((df-df.mean())/df.std())</span><br></pre></td></tr></table></figure>
<h6 id="sklearn的preprocessing模块-1"><a href="#sklearn的preprocessing模块-1" class="headerlink" title="sklearn的preprocessing模块"></a>sklearn的preprocessing模块</h6><ul>
<li>scale(df)函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line">boston = datasets.load_boston()</span><br><span class="line">df = pd.DataFrame(boston.data[:, <span class="number">4</span>:<span class="number">7</span>])</span><br><span class="line">df.columns = boston.feature_names[<span class="number">4</span>:<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#z-score规范化</span></span><br><span class="line"><span class="built_in">print</span>(preprocessing.scale(df))</span><br></pre></td></tr></table></figure>
<h5 id="小数定标规范化"><a href="#小数定标规范化" class="headerlink" title="小数定标规范化"></a>小数定标规范化</h5><script type="math/tex; mode=display">
x'=\frac{x}{10^j}</script><p>（j是移动位数）</p>
<ul>
<li>移动小数点位置，移动位数取决于<strong>属性绝对值的最大值</strong></li>
<li>常见落在[-1, 1]之间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#10的多少次方是绝对值最大值</span></span><br><span class="line"><span class="built_in">print</span>(df/<span class="number">10</span>**np.ceil(np.log10(df.<span class="built_in">abs</span>().<span class="built_in">max</span>())))</span><br></pre></td></tr></table></figure>
<h5 id="连续属性离散化"><a href="#连续属性离散化" class="headerlink" title="连续属性离散化"></a>连续属性离散化</h5><p>方法：</p>
<ul>
<li>分箱（binning）：等宽法、等频法<ul>
<li>等宽法：把数据区间按设定的<strong>箱子数</strong>划分（变异性较大）</li>
<li>等频法：放进<strong>每个箱子的记录数</strong>相同（相同的值可能分到不同箱子）</li>
</ul>
</li>
<li>聚类</li>
</ul>
<h6 id="分箱法"><a href="#分箱法" class="headerlink" title="分箱法"></a>分箱法</h6><ul>
<li>等宽：cut函数</li>
<li>等频：qcut函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 等宽法，标签分别是0,1,2,3,4</span></span><br><span class="line"><span class="built_in">print</span>(pd.cut(df.AGE, <span class="number">5</span>, labels=<span class="built_in">range</span>(<span class="number">5</span>)))</span><br><span class="line"><span class="comment"># 分成五个区间，(1,2],(3,4],…</span></span><br><span class="line">bins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#等频法</span></span><br><span class="line">pd.qcut(df.AGE, <span class="number">5</span>, labels=<span class="built_in">range</span>(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<h5 id="特征二值化binarization"><a href="#特征二值化binarization" class="headerlink" title="特征二值化binarization"></a>特征二值化binarization</h5><p>设定阈值threshold，大于阈值赋值为1，小于等于阈值赋值为0</p>
<ul>
<li>适用于将多分类问题转换成<strong>二分类</strong>问题</li>
<li>可用preprocessing的Binarizer()函数或LabelEncoder()函数</li>
</ul>
<h3 id="数据规约"><a href="#数据规约" class="headerlink" title="数据规约"></a>数据规约</h3><p>分类：</p>
<ul>
<li>属性规约</li>
<li>数值规约</li>
</ul>
<h4 id="属性规约"><a href="#属性规约" class="headerlink" title="属性规约"></a>属性规约</h4><p>方法：</p>
<ul>
<li>向前选择<ul>
<li>从空的属性集开始，每次选一个当前最优的属性加入，直到选不到最优属性或达到阈值</li>
</ul>
</li>
<li>向后删除<ul>
<li>从当前属性集开始，每次选一个最差的属性删除，直到选不到最差属性或达到阈值</li>
</ul>
</li>
<li>决策树<ul>
<li>机器学期的专门算法</li>
</ul>
</li>
<li>PCA</li>
</ul>
<h5 id="PCA"><a href="#PCA" class="headerlink" title="PCA"></a>PCA</h5><ul>
<li>用sklearn.decomposition模块中的PCA()函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line">x=preprocessing.scale(boston.data)</span><br><span class="line"></span><br><span class="line"><span class="comment">#”mle&quot;：自动选择满足所要求的方差百分比的特征个数</span></span><br><span class="line">pca=PCA(n_components=<span class="string">&quot;mle&quot;</span>)</span><br><span class="line"><span class="comment">#用x训练pca</span></span><br><span class="line">pca.fit(x)</span><br><span class="line"><span class="comment">#各个成分的方差贡献率</span></span><br><span class="line"><span class="built_in">print</span>(pca.explained_variance_ratio_)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(pca.explained_variance_ratio_))</span><br></pre></td></tr></table></figure>
<h4 id="数值规约"><a href="#数值规约" class="headerlink" title="数值规约"></a>数值规约</h4><p>方法：</p>
<ul>
<li>有参方法（回归法，对数线性模型）<ul>
<li>用模型，不需存放实际数据</li>
</ul>
</li>
<li>无参法（直方图，聚类，抽样）<ul>
<li>要存放实际数据</li>
</ul>
</li>
</ul>
<h5 id="有参方法"><a href="#有参方法" class="headerlink" title="有参方法"></a>有参方法</h5><h6 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h6><ul>
<li>本质是分箱（每个箱子表示一个属性-频率对）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">data = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">bins = np.linspace(data.<span class="built_in">min</span>(), data.<span class="built_in">max</span>(), <span class="number">3</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(bins)</span><br><span class="line"><span class="comment">#&gt;[1. 5. 9.]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [1, 5)，[5, 9]</span></span><br><span class="line">plt.hist(data, bins=bins, rwidth=<span class="number">0.95</span>, edgecolor=<span class="string">&quot;k&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h5 id="无参法"><a href="#无参法" class="headerlink" title="无参法"></a>无参法</h5><h6 id="抽样"><a href="#抽样" class="headerlink" title="抽样"></a>抽样</h6><p>方式：</p>
<ul>
<li>随机抽样（放回/不放回）</li>
<li>聚类抽样</li>
<li>分层抽样</li>
</ul>
<p>随机抽样：</p>
<ul>
<li>sample()函数<ul>
<li>n：抽样条数</li>
<li>frac：抽样占百分比</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不放回</span></span><br><span class="line">iris_df.sample(n=<span class="number">10</span>)</span><br><span class="line">iris_df.sample(frac=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#有放回</span></span><br><span class="line">iris_df.sample(n=<span class="number">10</span>, replace = <span class="literal">True</span>)</span><br><span class="line">iris_df.sample(frac=<span class="number">0.3</span>, replace = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>分层抽样：<br>先分层（利用DataFrame的<strong>筛选</strong>功能和<strong>append方法</strong>），再用sample()抽样</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A=iris_df[iris_df.target==<span class="number">0</span>].sample(frac=<span class="number">0.3</span>)</span><br><span class="line">B=iris_df[iris_df.target==<span class="number">1</span>].sample(frac=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">A.append(B)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JennyKQ</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  




  


</body>
</html>
